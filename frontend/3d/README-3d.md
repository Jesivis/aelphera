# 3D Terrain Preview â€” Aelphera

This folder contains a Three.js-based 3D terrain preview.

Required assets (place under frontend/3d/assets/):
- heightmap.png â€” grayscale image where white = high, black = low (generated by scripts/generate-heightmap.js).
- terrain-sand.png
- terrain-grass.png
- terrain-rock.png
- terrain-lava.png
- terrain-ice.png

How to preview locally
1. Ensure the server serves frontend/ (server already set to serve frontend/).
2. Start the server:
   npm start --prefix server
3. Open:
   http://localhost:3000/3d/index.html

Generating the heightmap
- There is a Node script at scripts/generate-heightmap.js that rasterizes data/neighborhoods.geojson and data/lots.geojson into frontend/3d/assets/heightmap.png.
- Run:
  npm run generate:heightmap --prefix server
  (or: node scripts/generate-heightmap.js from the repo root if node-canvas and deps are installed)

Notes
- The shader blends sand/grass/rock/ice; lava blending is supported by the generator (it can mark lava areas in the heightmap and produce a lava mask if desired).
